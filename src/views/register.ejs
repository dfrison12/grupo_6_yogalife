<!DOCTYPE html>
<html lang="en">
    <!-- Head -->
    <%- include ('./partials/head',{title:'Registra tu usuario', style:'registerStyles.css'}) %>
<body>
    <!-- Header -->
    <%- include ('./partials/header') %> 

<main>

<section class="formSection">   
        <h2 class="text">REGISTRATE / <a href="/login" class="login">INGRESA</a> </h2>
        <h4 class="text">Registrate con</h4>
        <h4 class="text">TU NOMBRE</h4>
   
  <form class="form" action="/user/register" method="POST" enctype="multipart/form-data">
    <div id="registerForms">
        <label for="name">Nombre</label>
        <input type="text" class="box" id="name"   name="name" placeholder="Nombres" value="<%= locals.oldData ? oldData.name : null%>">
        <% if (locals.errors && errors.name) { %>
            <p><%= errors.name.msg%></p>
        <% } %>
        <label for="lastname">Apellidos</label>
        <input type="text" class="box" id="lastname"   name="lastname" placeholder="Apellidos" value="<%= locals.oldData ? oldData.lastname : null%>">
        <% if (locals.errors && errors.lastname) { %>
            <p><%= errors.lastname.msg%></p>
        <% } %>
    </div>
  <h4 class="text">FECHA DE NACIMIENTO</h4>
        <label for="birthDate"></label>
        <input type="date" class="box" id="birthDate"  name="birthDate" placeholder="Seleccionar fecha de nacimiento"    min="1900-01-01"    max="2021-01-01">
        <% if (locals.errors && errors.birthDate) { %>
            <p><%= errors.birthDate.msg%></p>
        <% } %>
   <h4 class="text">DATOS DE ACCESO</h4>
        <label for="email">Correo electronico</label>
        <input type="email" class="box" name="email" id="email" placeholder="E-mail" value="<%= locals.oldData ? oldData.email : null%>">
        <% if (locals.errors && errors.email) { %>
            <p><%= errors.email.msg%></p>
        <% } %>
        <label for="password">Contraseña</label>
        <input type="password"  name="password"  class="box"  id="password">
        <% if (locals.errors && errors.password) { %>
            <p><%= errors.password.msg%></p>
        <% } %>
        <label for="passwordConfirmation">Confirmar contraseña</label>
        <input type="password"  name="passwordConfirmation"  class="box"  id="passwordConfirmation">
        <% if (locals.errors && errors.passwordConfirmation) { %>
            <p><%= errors.passwordConfirmation.msg%></p>
        <% } %>
        <label for="image" class="file-input">FOTO DE PERFIL</label>
        <input type="file" name="image" id="image" class="box">
        <% if (locals.errors && errors.image) { %>
            <div class="text-danger">
                <%= errors.image.msg %> 
            </div>  
        <% } %>
        <div class="tc">
        <label for="tyc"><input type="checkbox"  name="tyc"  id="tyc"    value="Accept T&C">Acepto terminos y condiciones</label>
        <% if (locals.errors && errors.tyc) { %>
            <p><%= errors.tyc.msg%></p>
        <% } %>
        </div> 

        <div class="button">
        <button type="submit">Registrar</button>
        </div>

    </form>
    
    <!-- Si queresmos mostrar TODOS los errores del objeto (array mappeado) usando un ciclo for -->
    <!-- <% if (locals.errors) { %>
        <% for (let oneError in errors) {%>
            <p> <%= errors[oneError].msg %></p>
        <% } %>
    <% } %> -->
    
</section>  

<section class="imgSection">       
   <!-- <img id="registerImg" src="/images/yogalifebackground.png" alt="ImageYogalife">-->
</section>  

</main>

<!-- Footer -->
<%- include('./partials/footer')%>       
    
</body>
</html>