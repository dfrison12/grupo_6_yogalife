<!DOCTYPE html>
<html lang="en">
    <!-- Head -->
    <%- include ('./partials/head',{title:'Registra tu usuario', style:'registerStyles.css'}) %>
<body>
    <!-- Header -->
    <%- include ('./partials/header') %> 

<main>

<section class="formSection"> 

        <h2 class="text">REGISTRATE / <a href="/login" class="login">INGRESA</a> </h2>
   
  <form class="form" action="/user/register" method="POST" enctype="multipart/form-data">
    <div id="registerForms">
        <label for="fullname">Nombre y apellido</label>
        <input type="text" class="box" id="name"   name="fullname" placeholder="Nombres" value="<%= locals.oldData ? oldData.fullname : null%>">
        <% if (locals.errors && errors.fullname) { %>
            <p><%= errors.fullname.msg%></p>
        <% } %>
        <input type="text" class="box" id="dni"   name="dni" placeholder="D.N.I" value="<%= locals.oldData ? oldData.dni : null%>">
        <% if (locals.errors && errors.dni) { %>
            <p><%= errors.dni.msg%></p>
        <% } %>
        <label for="address">Direccion de Envio</label>
        <input type="text" class="box" id="address"   name="address" placeholder="Direccion" value="<%= locals.oldData ? oldData.address : null%>">
        <% if (locals.errors && errors.address) { %>
            <p><%= errors.address.msg%></p>
        <% } %>
    </div>
        <h4 class="text">Perfil del usuario</h4>
        <select name="user_category_id" id="category" class="select-input" required>
            <option value="1">
            Usuario
            </option>
            <option value="2">
            Administrador
            </option>
        </select>


   <h4 class="text">DATOS DE ACCESO</h4>
        <label for="email">Correo electronico</label>
        <input type="email" class="box" name="email" id="email" placeholder="E-mail" value="<%= locals.oldData ? oldData.email : null%>">
        <% if (locals.errors && errors.email) { %>
            <p><%= errors.email.msg%></p>
        <% } %>
        <label for="password">Contraseña</label>
        <input type="password"  name="password"  class="box"  id="password">
        <% if (locals.errors && errors.password) { %>
            <p><%= errors.password.msg%></p>
        <% } %>
        <label for="password2">Repita la Contraseña</label>
        <input type="password"  name="password2"  class="box"  id="password">
        <% if (locals.errors && errors.password2) { %>
            <p><%= errors.password2.msg%></p>
        <% } %>
        <label for="image" class="file-input">FOTO DE PERFIL</label>
        <input type="file" name="image" id="image" class="box">
        <% if (locals.errors && errors.image) { %>
            <div class="text-danger">
                <%= errors.image.msg %> 
            </div>  
        <% } %>
        <div class="tc">
        <label for="tyc"><input type="checkbox"  name="tyc"  id="tyc"    value="Accepted">Acepto terminos y condiciones</label>
        <% if (locals.errors && errors.tyc) { %>
            <p><%= errors.tyc.msg%></p>
        <% } %>
        </div> 

        <div class="button">
        <button type="submit">Registrar</button>
        </div>

    </form>
    
    <!-- Si queresmos mostrar TODOS los errores del objeto (array mappeado) usando un ciclo for -->
    <!-- <% if (locals.errors) { %>
        <% for (let oneError in errors) {%>
            <p> <%= errors[oneError].msg %></p>
        <% } %>
    <% } %> -->
    
</section>  

<section class="imgSection">       
   <!-- <img id="registerImg" src="/images/yogalifebackground.png" alt="ImageYogalife">-->
</section>  

</main>

<!-- Footer -->
<%- include('./partials/footer')%>       
    
</body>
</html>